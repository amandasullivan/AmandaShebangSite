<!DOCTYPE html>
<meta charset="utf-8">
<title>North Dakota oil rigs</title>

<script type="text/javascript" src="https://rawgithub.com/NickQiZhu/dc.js/master/web/js/crossfilter.js"></script>
var data = [
  {date: "2000-11-15", permits: 2, producing wells completed: 4, dry holes: 0, confidential well plugged or producing: 1, temporarily abandoned: 0, producer abandoned: 0},
  {date: "2000-11-16", permits: 5, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 0, temporarily abandoned: 1, producer abandoned: 0},
  {date: "2000-11-17", permits: 1, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 1, temporarily abandoned: 0, producer abandoned: 0},
  {date: "2000-11-20", permits: 0, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 2, temporarily abandoned: 0, producer abandoned: 0},
  {date: "2000-11-21", permits: 1, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 0, temporarily abandoned: 1, producer abandoned: 1},
  {date: "2000-11-22", permits: 1, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 0, temporarily abandoned: 0, producer abandoned: 0},
  {date: "2000-11-24", permits: 0, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 0, temporarily abandoned: 0, producer abandoned: 0},
  {date: "2001-11-15", permits: 0, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 0, temporarily abandoned: 0, producer abandoned: 0},
  {date: "2001-11-16", permits: 2, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 1, temporarily abandoned: 0, producer abandoned: 0},
  {date: "2001-11-19", permits: 0, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 1, temporarily abandoned: 0, producer abandoned: 0},
  {date: "2001-11-20", permits: 1, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 1, temporarily abandoned: 0, producer abandoned: 0},
  {date: "2001-11-21", permits: 1, producing wells completed: 0, dry holes: 0, confidential well plugged or producing: 0, temporarily abandoned: 5, producer abandoned: 0},
]; 

var rigs = crossfilter(data);
var permitsDim = rigs.dimension(function(d) { return d.permits; });   
var total_1_5= totalDim.filter([1,5]);
print_permits("total_1_5");  

function print_filter(filter){
	var f=eval(filter);
	if (typeof(f.length) != "undefined") {}else{}
	if (typeof(f.top) != "undefined") {f=f.top(Infinity);}else{}
	if (typeof(f.dimension) != "undefined") {f=f.dimension(function(d) { return "";}).top(Infinity);}else{}
	console.log(filter+"("+f.length+") = "+JSON.stringify(f).replace("[","[\n\t").replace(/}\,/g,"},\n\t").replace("]","\n]"));
} 
